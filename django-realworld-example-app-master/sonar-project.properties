# =============================================================================
# SonarQube Configuration — Conduit Django RealWorld
# =============================================================================
# This file configures the SonarQube scanner for static analysis of the
# Conduit Django RealWorld API project. It is consumed by `sonar-scanner`
# when invoked from the CI pipeline.
#
# Quality gates are enforced in the SonarQube server UI; thresholds are
# documented here for reference and in docs/tech-debt-audit.md.
# =============================================================================

# --- Project Identification ---
sonar.projectKey=conduit-realworld-django
sonar.projectName=Conduit Django RealWorld
sonar.projectVersion=1.0

# --- Source Configuration ---
sonar.sources=conduit
sonar.language=py
sonar.python.version=3
sonar.sourceEncoding=UTF-8

# --- Exclusions ---
# Migrations:  Auto-generated by Django — not meaningful for static analysis.
# Tests:       Have different quality standards; analyzed separately if needed.
# manage.py:   Django boilerplate entry point.
sonar.exclusions=**/migrations/**,**/tests/**,manage.py

# --- Quality Gate Thresholds (enforced in SonarQube UI) ---
# These thresholds are configured on the SonarQube server under
# Quality Gates > "Conduit Gate". They apply to NEW CODE only,
# allowing incremental improvement via the Strangler Fig strategy.
#
#   Metric                              Threshold
#   ----------------------------------  ---------
#   New Bugs                            = 0
#   New Vulnerabilities                 = 0
#   New Code Technical Debt Ratio       <= 5%
#   New Code Duplication                <= 3%
#   New Code Line Coverage              >= 80%
#   Cognitive Complexity (per method)   <= 15
